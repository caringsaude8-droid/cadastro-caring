<div class="page-container">
  <div class="success-card" *ngIf="successMessage">
    <span class="success-icon">✅</span>
    <span class="success-text">{{successMessage}}</span>
  </div>
  <app-page-header 
    [title]="'Cadastro Caring — Exclusão Cadastral'" 
    [subtitle]="'Selecione o motivo para atualizar o status'" 
    [icon]="'user-x'">
  </app-page-header>

  <div class="exclusao-card">
    <div class="section">
      <div class="section-title">Dados do Beneficiário</div>
      <div class="detail-grid">
        <div class="item"><span class="label">Nome:</span><span class="value">{{beneficiario.nome || '—'}}</span></div>
        <div class="item"><span class="label">CPF:</span><span class="value">{{beneficiario.cpf || '—'}}</span></div>
        <div class="item"><span class="label">Matrícula:</span><span class="value">{{beneficiario.matricula || '—'}}</span></div>
      </div>
    </div>

    <div class="section">
      <div class="section-title">Motivo e Status</div>
      <div class="form-row">
        <div class="form-group">
          <label>Motivo da Exclusão *</label>
          <select class="form-select" [(ngModel)]="motivo" (ngModelChange)="onMotivoChange($event)">
            <option value="">Selecione</option>
            <option *ngFor="let m of motivos" [value]="m.value">{{m.label}}</option>
          </select>
        </div>
        <div class="form-group">
          <label>Data da Exclusão</label>
          <ui-input type="date" [(ngModel)]="dataExclusao" name="dataExclusao" [min]="minDate" (valueChange)="onDateChange($event)"></ui-input>
          <div class="error-card" *ngIf="dateError">{{dateError}}</div>
        </div>
        <div class="form-group">
          <label>Status Resultante</label>
          <div class="status-pill" [class.empty]="!status">{{ status || '—' }}</div>
        </div>
      </div>
    </div>

    <div class="section">
      <div class="section-title">Mensagem ao aprovador (opcional)</div>
      <textarea class="input" rows="3" [(ngModel)]="mensagem" placeholder="Escreva uma mensagem para o aprovador (opcional)"></textarea>
    </div>

    <div class="form-actions">
      <button class="btn-secondary" (click)="confirmar()">Confirmar</button>
    </div>
  </div>
</div>
